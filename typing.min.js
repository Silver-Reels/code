const charParent=document.querySelector(".charParent"),emHeight=1505;let charHeight=50,userInput='"Ecco io ho acquistato maggior sapienza di tutti quelli che hanno regnato prima di me in Gerusalemme"; si, il mio cuore ha posseduto molta sapienza e molta scienza. Ed ho applicato il cuore a conoscer la sapienza, e a conoscere la follia e la stoltezza, ed ho riconosciuto che anche ...';const charOf=new Map([["a_upper","A"],["b_upper","B"],["c_upper","C"],["d_upper","D"],["e_upper","E"],["f_upper","F"],["g_upper","G"],["h_upper","H"],["i_upper","I"],["j_upper","J"],["k_upper","K"],["l_upper","L"],["m_upper","M"],["n_upper","N"],["o_upper","O"],["p_upper","P"],["q_upper","Q"],["r_upper","R"],["s_upper","S"],["t_upper","T"],["u_upper","U"],["v_upper","V"],["w_upper","W"],["x_upper","X"],["y_upper","Y"],["z_upper","Z"],["a_lower","a"],["b_lower","b"],["c_lower","c"],["d_lower","d"],["e_lower","e"],["f_lower","f"],["g_lower","g"],["h_lower","h"],["i_lower","i"],["j_lower","j"],["k_lower","k"],["l_lower","l"],["m_lower","m"],["n_lower","n"],["o_lower","o"],["p_lower","p"],["q_lower","q"],["r_lower","r"],["s_lower","s"],["t_lower","t"],["u_lower","u"],["v_lower","v"],["w_lower","w"],["x_lower","x"],["y_lower","y"],["z_lower","z"],["zero","0"],["one","1"],["two","2"],["three","3"],["four","4"],["five","5"],["six","6"],["seven","7"],["eight","8"],["nine","9"],["excl","!"],["quote",'"'],["amp","&"],["apos","'"],["par_open","("],["par_close",")"],["comma",","],["dash","-"],["dot","."],["slash","/"],["colon",":"],["semi",";"],["quest","?"],["space"," "]]),nameOf=new Map([["A","a_upper"],["B","b_upper"],["C","c_upper"],["D","d_upper"],["E","e_upper"],["F","f_upper"],["G","g_upper"],["H","h_upper"],["I","i_upper"],["J","j_upper"],["K","k_upper"],["L","l_upper"],["M","m_upper"],["N","n_upper"],["O","o_upper"],["P","p_upper"],["Q","q_upper"],["R","r_upper"],["S","s_upper"],["T","t_upper"],["U","u_upper"],["V","v_upper"],["W","w_upper"],["X","x_upper"],["Y","y_upper"],["Z","z_upper"],["a","a_lower"],["b","b_lower"],["c","c_lower"],["d","d_lower"],["e","e_lower"],["f","f_lower"],["g","g_lower"],["h","h_lower"],["i","i_lower"],["j","j_lower"],["k","k_lower"],["l","l_lower"],["m","m_lower"],["n","n_lower"],["o","o_lower"],["p","p_lower"],["q","q_lower"],["r","r_lower"],["s","s_lower"],["t","t_lower"],["u","u_lower"],["v","v_lower"],["w","w_lower"],["x","x_lower"],["y","y_lower"],["z","z_lower"],["0","zero"],["1","one"],["2","two"],["3","three"],["4","four"],["5","five"],["6","six"],["7","seven"],["8","eight"],["9","nine"],["!","excl"],['"',"quote"],["&","amp"],["'","apos"],["(","par_open"],[")","par_close"],[",","comma"],["-","dash"],[".","dot"],["/","slash"],[":","colon"],[";","semi"],["?","quest"],[" ","space"]]);let hVar=charHeight/emHeight;const charWidth=new Map([["A",1216*hVar],["B",1126*hVar],["C",1030*hVar],["D",1042*hVar],["E",1117*hVar],["F",1145*hVar],["G",981*hVar],["H",1360*hVar],["I",1187*hVar],["J",1508*hVar],["K",1623*hVar],["L",1433*hVar],["M",1654*hVar],["N",1281*hVar],["O",1013*hVar],["P",1130*hVar],["Q",969*hVar],["R",1238*hVar],["S",1220*hVar],["T",1427*hVar],["U",1157*hVar],["V",1341*hVar],["W",1509*hVar],["X",1300*hVar],["Y",1216*hVar],["Z",1389*hVar],["a",580*hVar],["b",648*hVar],["c",448*hVar],["d",889*hVar],["e",490*hVar],["f",894*hVar],["g",910*hVar],["h",722*hVar],["i",527*hVar],["j",1087*hVar],["k",726*hVar],["l",738*hVar],["m",828*hVar],["n",637*hVar],["o",442*hVar],["p",802*hVar],["q",636*hVar],["r",630*hVar],["s",432*hVar],["t",606*hVar],["u",629*hVar],["v",579*hVar],["w",862*hVar],["x",669*hVar],["y",949*hVar],["z",900*hVar],["0",733*hVar],["1",649*hVar],["2",856*hVar],["3",835*hVar],["4",744*hVar],["5",889*hVar],["6",642*hVar],["7",720*hVar],["8",842*hVar],["9",638*hVar],["!",694*hVar],['"',296*hVar],["&",982*hVar],["'",176*hVar],["(",797*hVar],[")",733*hVar],[",",215*hVar],["-",298*hVar],[".",122*hVar],["/",645*hVar],[":",294*hVar],[";",377*hVar],["?",672*hVar],[" ",300*hVar]]),advWidth=new Map([["A",975*hVar],["B",1017*hVar],["C",719*hVar],["D",1017*hVar],["E",853*hVar],["F",877*hVar],["G",899*hVar],["H",849*hVar],["I",786*hVar],["J",745*hVar],["K",1055*hVar],["L",1174*hVar],["M",1289*hVar],["N",868*hVar],["O",960*hVar],["P",906*hVar],["Q",920*hVar],["R",899*hVar],["S",1075*hVar],["T",642*hVar],["U",893*hVar],["V",700*hVar],["W",1171*hVar],["X",725*hVar],["Y",802*hVar],["Z",787*hVar],["a",505*hVar],["b",438*hVar],["c",383*hVar],["d",528*hVar],["e",420*hVar],["f",357*hVar],["g",508*hVar],["h",516*hVar],["i",259*hVar],["j",267*hVar],["k",499*hVar],["l",407*hVar],["m",695*hVar],["n",500*hVar],["o",467*hVar],["p",502*hVar],["q",528*hVar],["r",397*hVar],["s",374*hVar],["t",301*hVar],["u",532*hVar],["v",444*hVar],["w",727*hVar],["x",522*hVar],["y",532*hVar],["z",527*hVar],["0",647*hVar],["1",400*hVar],["2",625*hVar],["3",695*hVar],["4",686*hVar],["5",585*hVar],["6",572*hVar],["7",543*hVar],["8",621*hVar],["9",573*hVar],["!",601*hVar],['"',377*hVar],["&",897*hVar],["'",257*hVar],["(",451*hVar],[")",638*hVar],[",",268*hVar],["-",386*hVar],[".",276*hVar],["/",491*hVar],[":",401*hVar],[";",399*hVar],["?",657*hVar],[" ",300*hVar]]),lbWidth=new Map([["A",66*hVar],["B",122*hVar],["C",118*hVar],["D",73*hVar],["E",69*hVar],["F",123*hVar],["G",119*hVar],["H",69*hVar],["I",14*hVar],["J",-232*hVar],["K",3*hVar],["L",62*hVar],["M",61*hVar],["N",59*hVar],["O",124*hVar],["P",73*hVar],["Q",129*hVar],["R",68*hVar],["S",124*hVar],["T",125*hVar],["U",123*hVar],["V",74*hVar],["W",72*hVar],["X",103*hVar],["Y",124*hVar],["Z",-260*hVar],["a",30*hVar],["b",50*hVar],["c",60*hVar],["d",30*hVar],["e",50*hVar],["f",-217*hVar],["g",-287*hVar],["h",-19*hVar],["i",6*hVar],["j",-582*hVar],["k",-19*hVar],["l",50*hVar],["m",-19*hVar],["n",-30*hVar],["o",60*hVar],["p",-250*hVar],["q",7*hVar],["r",-102*hVar],["s",18*hVar],["t",20*hVar],["u",30*hVar],["v",34*hVar],["w",34*hVar],["x",20*hVar],["y",-279*hVar],["z",-270*hVar],["0",122*hVar],["1",32*hVar],["2",21*hVar],["3",40*hVar],["4",148*hVar],["5",44*hVar],["6",96*hVar],["7",85*hVar],["8",89*hVar],["9",142*hVar],["!",85*hVar],['"',274*hVar],["&",102*hVar],["'",274*hVar],["(",139*hVar],[")",-34*hVar],[",",15*hVar],["-",56*hVar],[".",85*hVar],["/",48*hVar],[":",85*hVar],[";",15*hVar],["?",117*hVar],[" ",0*hVar]]);function partSpawn(e){let r;switch(e){case"A":r=5;break;case"a":r=6;break;case"0":r=2;break;case"B":r=6;break;case"b":r=4;break;case"1":r=2;break;case"C":r=4;break;case"c":r=3;break;case"2":case"D":r=4;break;case"d":r=6;break;case"3":r=5;break;case"E":r=6;break;case"e":case"4":r=3;break;case"F":case"f":case"5":case"G":r=4;break;case"g":r=6;break;case"6":r=3;break;case"H":r=5;break;case"h":r=4;break;case"7":r=2;break;case"I":case"i":r=4;break;case"8":r=3;break;case"J":case"j":r=4;break;case"9":r=3;break;case"K":r=6;break;case"k":r=5;break;case"!":r=3;break;case"L":r=4;break;case"l":r=3;break;case'"':r=2;break;case"M":r=6;break;case"m":case"&":r=7;break;case"N":case"n":r=5;break;case"'":r=1;break;case"O":r=4;break;case"o":r=3;break;case"(":r=1;break;case"P":r=3;break;case"p":r=4;break;case")":r=1;break;case"Q":r=4;break;case"q":r=6;break;case",":r=1;break;case"R":case"r":r=4;break;case"-":r=1;break;case"S":r=4;break;case"s":r=3;break;case".":r=1;break;case"T":r=3;break;case"t":r=4;break;case"/":r=1;break;case"U":case"u":r=5;break;case":":r=2;break;case"V":r=3;break;case"v":r=5;break;case";":r=2;break;case"W":r=5;break;case"w":r=6;break;case"?":r=5;break;case"X":case"x":r=4;break;case" ":r=0;break;case"Y":r=4;break;case"y":case"Z":case"z":r=5}var a=nameOf.get(e);if(0===r)return`<div class="char ${a}"></div>`;r;let t=1,l="";for(;t<=r;)l+=`<img class="${a}_${t}" src="/typing/${a}_${t}.svg">`,t++;return`<div class="char ${a}">${l}</div>`}function populateHTML(r){let a="";for(let e=0;e<r.length;e++)a+=partSpawn(r[e]);return a}charParent.innerHTML=populateHTML(userInput);const charDivs=Array.from(document.querySelectorAll(".char"));function setWidth(e,r){Array.from(e).forEach(e=>e.style.width=charWidth.get(r)+"px")}function setWidthAll(){setWidth(document.querySelectorAll(".a_upper"),"A");var e=document.querySelectorAll(".b_upper"),e=(setWidth(e,"B"),document.querySelectorAll(".c_upper")),e=(setWidth(e,"C"),document.querySelectorAll(".d_upper")),e=(setWidth(e,"D"),document.querySelectorAll(".e_upper")),e=(setWidth(e,"E"),document.querySelectorAll(".f_upper")),e=(setWidth(e,"F"),document.querySelectorAll(".g_upper")),e=(setWidth(e,"G"),document.querySelectorAll(".h_upper")),e=(setWidth(e,"H"),document.querySelectorAll(".i_upper")),e=(setWidth(e,"I"),document.querySelectorAll(".j_upper")),e=(setWidth(e,"J"),document.querySelectorAll(".k_upper")),e=(setWidth(e,"K"),document.querySelectorAll(".l_upper")),e=(setWidth(e,"L"),document.querySelectorAll(".m_upper")),e=(setWidth(e,"M"),document.querySelectorAll(".n_upper")),e=(setWidth(e,"N"),document.querySelectorAll(".o_upper")),e=(setWidth(e,"O"),document.querySelectorAll(".p_upper")),e=(setWidth(e,"P"),document.querySelectorAll(".q_upper")),e=(setWidth(e,"Q"),document.querySelectorAll(".r_upper")),e=(setWidth(e,"R"),document.querySelectorAll(".s_upper")),e=(setWidth(e,"S"),document.querySelectorAll(".t_upper")),e=(setWidth(e,"T"),document.querySelectorAll(".u_upper")),e=(setWidth(e,"U"),document.querySelectorAll(".v_upper")),e=(setWidth(e,"V"),document.querySelectorAll(".w_upper")),e=(setWidth(e,"W"),document.querySelectorAll(".x_upper")),e=(setWidth(e,"X"),document.querySelectorAll(".y_upper")),e=(setWidth(e,"Y"),document.querySelectorAll(".z_upper")),e=(setWidth(e,"Z"),document.querySelectorAll(".a_lower")),e=(setWidth(e,"a"),document.querySelectorAll(".b_lower")),e=(setWidth(e,"b"),document.querySelectorAll(".c_lower")),e=(setWidth(e,"c"),document.querySelectorAll(".d_lower")),e=(setWidth(e,"d"),document.querySelectorAll(".e_lower")),e=(setWidth(e,"e"),document.querySelectorAll(".f_lower")),e=(setWidth(e,"f"),document.querySelectorAll(".g_lower")),e=(setWidth(e,"g"),document.querySelectorAll(".h_lower")),e=(setWidth(e,"h"),document.querySelectorAll(".i_lower")),e=(setWidth(e,"i"),document.querySelectorAll(".j_lower")),e=(setWidth(e,"j"),document.querySelectorAll(".k_lower")),e=(setWidth(e,"k"),document.querySelectorAll(".l_lower")),e=(setWidth(e,"l"),document.querySelectorAll(".m_lower")),e=(setWidth(e,"m"),document.querySelectorAll(".n_lower")),e=(setWidth(e,"n"),document.querySelectorAll(".o_lower")),e=(setWidth(e,"o"),document.querySelectorAll(".p_lower")),e=(setWidth(e,"p"),document.querySelectorAll(".q_lower")),e=(setWidth(e,"q"),document.querySelectorAll(".r_lower")),e=(setWidth(e,"r"),document.querySelectorAll(".s_lower")),e=(setWidth(e,"s"),document.querySelectorAll(".t_lower")),e=(setWidth(e,"t"),document.querySelectorAll(".u_lower")),e=(setWidth(e,"u"),document.querySelectorAll(".v_lower")),e=(setWidth(e,"v"),document.querySelectorAll(".w_lower")),e=(setWidth(e,"w"),document.querySelectorAll(".x_lower")),e=(setWidth(e,"x"),document.querySelectorAll(".y_lower")),e=(setWidth(e,"y"),document.querySelectorAll(".z_lower")),e=(setWidth(e,"z"),document.querySelectorAll(".zero")),e=(setWidth(e,"0"),document.querySelectorAll(".one")),e=(setWidth(e,"1"),document.querySelectorAll(".two")),e=(setWidth(e,"2"),document.querySelectorAll(".three")),e=(setWidth(e,"3"),document.querySelectorAll(".four")),e=(setWidth(e,"4"),document.querySelectorAll(".five")),e=(setWidth(e,"5"),document.querySelectorAll(".six")),e=(setWidth(e,"6"),document.querySelectorAll(".seven")),e=(setWidth(e,"7"),document.querySelectorAll(".eight")),e=(setWidth(e,"8"),document.querySelectorAll(".nine")),e=(setWidth(e,"9"),document.querySelectorAll(".excl")),e=(setWidth(e,"!"),document.querySelectorAll(".quote")),e=(setWidth(e,'"'),document.querySelectorAll(".amp")),e=(setWidth(e,"&"),document.querySelectorAll(".apos")),e=(setWidth(e,"'"),document.querySelectorAll(".par_open")),e=(setWidth(e,"("),document.querySelectorAll(".par_close")),e=(setWidth(e,")"),document.querySelectorAll(".comma")),e=(setWidth(e,","),document.querySelectorAll(".dash")),e=(setWidth(e,"-"),document.querySelectorAll(".dot")),e=(setWidth(e,"."),document.querySelectorAll(".slash")),e=(setWidth(e,"/"),document.querySelectorAll(".colon")),e=(setWidth(e,":"),document.querySelectorAll(".semi")),e=(setWidth(e,";"),document.querySelectorAll(".quest")),e=(setWidth(e,"?"),document.querySelectorAll(".space"));setWidth(e," ")}function setTail(r){let a=0,t=0;var l,h,o,c,u=.98*document.body.clientWidth,s={};let V=0;for(let e=0;e<r.length;e++)l=(s=r[e]).classList[1],l=charOf.get(l),h=charWidth.get(l),o=advWidth.get(l),c=lbWidth.get(l),(t+=h)>u&&(a=0,t=h),V=h-o,c<0&&(V+=c,a+=-c),0<c&&(V+=-c),V<0&&(V=0),s.style.right=a+"px","'"===l&&(s.style.right=a-c+"px"),'"'===l&&(s.style.right=a-c+"px"),a+=V}charDivs.forEach(e=>e.style.height=.6*charHeight+"px"),setWidthAll();const charCount=charParent.children;setTail(charCount);let animationSpeed=1;async function animateHTML(e){array=Array.from(e.children);let r=0,a=1/animationSpeed;for(var t of array)for(i=0;i<=t.children.length-1;i++){await new Promise(e=>{setTimeout(()=>{e(1)},r*a)});var l=t.children[i].classList[0],l=(l+="_draw",t.children[i].classList.add(l),document.querySelector("."+t.children[i].classList[1])),l=Array.from(window.getComputedStyle(l).getPropertyValue("animation-duration"));l.pop(),r=1e3*l.join("")}}animateHTML(charParent);